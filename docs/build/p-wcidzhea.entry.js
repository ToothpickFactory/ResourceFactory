import{r as t,h as e}from"./p-8d620762.js";let s=class{constructor(t){this.text=t}};s=function(t,e,s,o){var r,n=arguments.length,u=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,s):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,s,o);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(u=(n<3?r(u):n>3?r(e,s,u):r(e,s))||u);return n>3&&u&&Object.defineProperty(e,s,u),u}([function(t={}){const e=[],s=[];return function(o){o.resources=e,o.subs=s,o.publish=function(){o.subs.forEach(t=>t(o.resources))},o.unsubscribe=function(t){o.subs=o.subs.filter(e=>e!==t)},o.subscribe=function(t){return o.subs.push(t),t(this.resources),()=>o.unsubscribe(t)},o.find=t.find||null,o.create=function(){const t=new o(...arguments);return o.add(t),t},o.add=function(t){o.resources=[...o.resources,t],o.publish()},o.remove=function(t){o.resources=o.resources.filter(e=>e!==t),o.publish()}}}()],s);class o{constructor(e){t(this,e),this.todoViews=[],this.subscriberCount=0}componentWillLoad(){s.subscribe(()=>this.subscriberCount=s.subs.length)}addTodoView(){this.todoViews=[...this.todoViews,e("todo-view",null)]}addTodo(t){t.preventDefault(),s.create(t.target.children.todo.value),t.target.reset()}render(){return[e("header",null,e("h1",null,"Resource Factory Test")),e("aside",null,e("button",{onClick:()=>this.addTodoView()},"Create New Todo View"),e("form",{onSubmit:t=>this.addTodo(t)},e("h4",null,"Create new TODO"),e("input",{type:"text",name:"todo"}),e("button",{type:"submit"},"+"))),e("main",null,this.todoViews)]}static get style(){return"app-root{display:grid;grid-template-columns:200px auto;grid-template-rows:50px auto;height:100%}app-root header{grid-column:span 2;background:orange}app-root header h1{margin:0}app-root aside{background:#00f;-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}app-root header h1{grid-column-start:1;grid-column-end:3}app-root header button,app-root header h4{-ms-flex-item-align:center;align-self:center}app-root main{width:100%;display:grid;grid-template-columns:repeat(6,1fr)}"}}class r{constructor(e){t(this,e),this.todos=[]}componentWillLoad(){this.unsubscribe=s.subscribe(t=>this.todos=t)}render(){return e("div",{class:"todo-view"},e("ul",null,this.todos.map(t=>e("li",null,t.text,e("button",{onClick:()=>s.remove(t)},"X")))),e("button",{onClick:()=>this.unsubscribe()},"Unsubscribe"))}static get style(){return""}}export{o as app_root,r as todo_view};